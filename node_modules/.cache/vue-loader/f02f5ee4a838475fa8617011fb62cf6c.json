{"remainingRequest":"C:\\Users\\PC\\Downloads\\Versiones\\dp1_front-master\\vue-black-dashboard-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\PC\\Downloads\\Versiones\\dp1_front-master\\vue-black-dashboard-master\\src\\pages\\Administrador\\ModificarSede.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\PC\\Downloads\\Versiones\\dp1_front-master\\vue-black-dashboard-master\\src\\pages\\Administrador\\ModificarSede.vue","mtime":1596683947000},{"path":"C:\\Users\\PC\\Downloads\\Versiones\\dp1_front-master\\vue-black-dashboard-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713478866974},{"path":"C:\\Users\\PC\\Downloads\\Versiones\\dp1_front-master\\vue-black-dashboard-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1713478866263},{"path":"C:\\Users\\PC\\Downloads\\Versiones\\dp1_front-master\\vue-black-dashboard-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1713478866974},{"path":"C:\\Users\\PC\\Downloads\\Versiones\\dp1_front-master\\vue-black-dashboard-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1713478868660}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios';\nimport NotificationTemplate from '../Notifications/NotificationTemplate';\nimport NotificationTemplateSedeSuccess from '../Notifications/NotificationTemplateSedeSuccess';\nimport NotificationTemplateSedeError from '../Notifications/NotificationTemplateSedeError';\nimport { BaseAlert } from '@/components';\n\nexport default {\n  components: {\n    \n  },\n  data() {\n    return {\n      sede:{\n        id:'',\n        nombre:null,\n        codigoOaci:null,\n        prefijoCiudad:null,\n        ciudad:null,\n        pais:null,\n        gerente:'',\n        numero_paquetes:0,\n        capacidad_maxima: null,\n        nombreGerente:''\n      },\n      capacidad_max: null,\n      errors: [],\n      type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\n      notifications: {\n        topCenter: false\n      }\n\n    };\n  },\n  mounted(){\n    let vue = this;\n    console.log('Inicio Modificar');\n    axios.get(vue.$store.state.appUri+'/sedes/obtenerPorId/'+ vue.$route.params.idSede)\n    .then(function(response){\n    //console.log(response.data);\n          vue.sede.id = vue.$route.params.idSede;\n          vue.sede.codigoOaci = response.data.sede.codigoOaci;\n          vue.sede.prefijoCiudad = response.data.sede.prefijo_ciudad;\n          vue.sede.nombre = response.data.sede.nombre.replace('_',' ')+'('+vue.sede.prefijoCiudad+')';\n          vue.sede.numero_paquetes = response.data.sede.numero_paquetes;\n          vue.sede.capacidad_maxima = response.data.sede.capacidad_maxima;\n          vue.sede.ciudad = response.data.sede.pais.ciudad;\n          vue.sede.pais = response.data.sede.pais.nombre;\n          vue.sede.gerente = (response.data.sede.gerente === null)?'Gerente':response.data.sede.gerente;\n    console.log(vue.sede);\n    //vue.capacidad_max=vue.sede.capacidad_maxima\n    })\n  },\n  methods:{\n    enviarSede(){\n      let vue = this;\n      console.log('enviarSede');\n      if(vue.sede.capacidad_maxima == null || vue.sede.capacidad_maxima < 600 || vue.sede.capacidad_maxima > 1000 ){\n        this.notifyVue('top', 'center',4,NotificationTemplateSedeError);\n        //vue.capacidad_max= vue.sede.capacidad_maxima;\n        vue.sede.capacidad_maxima= null;\n      }else{\n        console.log(vue.capacidad_max);\n        axios.post(vue.$store.state.appUri+'/sedes/actualizarCapacidadMaxima/'+vue.sede.id, {\"capacidad_max\":vue.sede.capacidad_maxima})\n        .then(response => {\n          this.notifyVue('top', 'center',2,NotificationTemplateSedeSuccess)\n\n        })\n        .catch(e => {\n          vue.errors.push(e)\n        });\n      }\n      \n    },\n    notifyVue(verticalAlign, horizontalAlign,color,componente) {\n      //const color = 4;\n      //console.log(color);\n      this.$notify({\n        component: componente,\n        icon: \"tim-icons icon-bell-55\",\n        horizontalAlign: horizontalAlign,\n        verticalAlign: verticalAlign,\n        type: this.type[color],\n        timeout: 0\n      });\n    },\n    regresarAlListar(){\n      this.$router.push('/admin/sedes');\n    }\n  },\n  props: {\n    \n  }\n}\n",{"version":3,"sources":["ModificarSede.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ModificarSede.vue","sourceRoot":"src/pages/Administrador","sourcesContent":["<template>\n  <card>\n    <h5 slot=\"header\" class=\"title\">Información de la Sede</h5>\n\n    \n    <div class=\"row\">     \n\n      <div class=\"col-md-4 pr-md-1\">\n        <div class=\"form-group\">\n\n          <base-input label=\"Nombre de la sede\"\n                    v-model=\"sede.nombre\"\n                    disabled>\n          </base-input>\n\n        </div>\n      </div>\n\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-md-4 pr-md-2 \">          \n          <base-input label=\"Gerente de la sede\"\n                    v-model=\"sede.gerente\"\n                    disabled>\n          </base-input>          \n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-md-4 pr-md-2 \">          \n          <base-input label=\"Codigo Oaci de la sede\"\n                    v-model=\"sede.codigoOaci\"\n                    disabled>\n          </base-input>          \n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-md-4 pr-md-1 \">\n        <base-input label=\"Ciudad\"\n                  v-model=\"sede.ciudad\"\n                  disabled>\n        </base-input>\n      </div>\n    </div>\n\n      <div class=\"row\">\n        <div class=\"col-md-4 pr-md-1\">\n          <base-input label=\"País\"\n                    v-model=\"sede.pais\"\n                    disabled>\n          </base-input>\n        </div>\n      </div>\n\n    \n    <div class=\"row\">      \n\n      <!-- \n      actualizar para que se pueda cambiar el valor\n      -->\n      <div class=\"col-md-5 pr-md-1\">\n          <base-input type=\"number\" min=\"600\" max='1000'\n                    label=\"Capacidad máxima de la sede\"\n                    v-model=\"sede.capacidad_maxima\" \n                    >\n          </base-input>\n      </div>\n\n      <!-- \n      actualizar el servicio para que vaya cambiando el valor\n      -->\n      <div class=\"col-md-5 pr-md-1\">\n        <base-input label=\"Cantidad de paquetes en la sede\"\n                  v-model=\"sede.numero_paquetes\"\n                  disabled>\n        </base-input>\n      </div>\n\n    </div>\n    \n    <base-button slot=\"footer\" type=\"primary\" fill @click=\"enviarSede()\">Aceptar</base-button>\n    <base-button slot=\"footer\" fill @click=\"regresarAlListar()\">Cancelar</base-button>\n\n  </card>\n</template>\n\n\n<script>\n  import axios from 'axios';\n  import NotificationTemplate from '../Notifications/NotificationTemplate';\n  import NotificationTemplateSedeSuccess from '../Notifications/NotificationTemplateSedeSuccess';\n  import NotificationTemplateSedeError from '../Notifications/NotificationTemplateSedeError';\n  import { BaseAlert } from '@/components';\n\n  export default {\n    components: {\n      \n    },\n    data() {\n      return {\n        sede:{\n          id:'',\n          nombre:null,\n          codigoOaci:null,\n          prefijoCiudad:null,\n          ciudad:null,\n          pais:null,\n          gerente:'',\n          numero_paquetes:0,\n          capacidad_maxima: null,\n          nombreGerente:''\n        },\n        capacidad_max: null,\n        errors: [],\n        type: [\"\", \"info\", \"success\", \"warning\", \"danger\"],\n        notifications: {\n          topCenter: false\n        }\n\n      };\n    },\n    mounted(){\n      let vue = this;\n      console.log('Inicio Modificar');\n      axios.get(vue.$store.state.appUri+'/sedes/obtenerPorId/'+ vue.$route.params.idSede)\n      .then(function(response){\n      //console.log(response.data);\n            vue.sede.id = vue.$route.params.idSede;\n            vue.sede.codigoOaci = response.data.sede.codigoOaci;\n            vue.sede.prefijoCiudad = response.data.sede.prefijo_ciudad;\n            vue.sede.nombre = response.data.sede.nombre.replace('_',' ')+'('+vue.sede.prefijoCiudad+')';\n            vue.sede.numero_paquetes = response.data.sede.numero_paquetes;\n            vue.sede.capacidad_maxima = response.data.sede.capacidad_maxima;\n            vue.sede.ciudad = response.data.sede.pais.ciudad;\n            vue.sede.pais = response.data.sede.pais.nombre;\n            vue.sede.gerente = (response.data.sede.gerente === null)?'Gerente':response.data.sede.gerente;\n      console.log(vue.sede);\n      //vue.capacidad_max=vue.sede.capacidad_maxima\n      })\n    },\n    methods:{\n      enviarSede(){\n        let vue = this;\n        console.log('enviarSede');\n        if(vue.sede.capacidad_maxima == null || vue.sede.capacidad_maxima < 600 || vue.sede.capacidad_maxima > 1000 ){\n          this.notifyVue('top', 'center',4,NotificationTemplateSedeError);\n          //vue.capacidad_max= vue.sede.capacidad_maxima;\n          vue.sede.capacidad_maxima= null;\n        }else{\n          console.log(vue.capacidad_max);\n          axios.post(vue.$store.state.appUri+'/sedes/actualizarCapacidadMaxima/'+vue.sede.id, {\"capacidad_max\":vue.sede.capacidad_maxima})\n          .then(response => {\n            this.notifyVue('top', 'center',2,NotificationTemplateSedeSuccess)\n\n          })\n          .catch(e => {\n            vue.errors.push(e)\n          });\n        }\n        \n      },\n      notifyVue(verticalAlign, horizontalAlign,color,componente) {\n        //const color = 4;\n        //console.log(color);\n        this.$notify({\n          component: componente,\n          icon: \"tim-icons icon-bell-55\",\n          horizontalAlign: horizontalAlign,\n          verticalAlign: verticalAlign,\n          type: this.type[color],\n          timeout: 0\n        });\n      },\n      regresarAlListar(){\n        this.$router.push('/admin/sedes');\n      }\n    },\n    props: {\n      \n    }\n  }\n</script>\n<style>\n</style>\n"]}]}